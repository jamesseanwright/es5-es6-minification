(function(){function a(a,e,b,f){this.width=a;this.height=e;this.a=b;this.c=f;this.channel=1}function l(){b.B();requestAnimationFrame(l)}var g=document.body.querySelector(".output"),d=document.body.querySelector("#buttons"),m=d.querySelector("#previous-channel"),d=d.querySelector("#next-channel"),h=g.width,k=g.height,b;a.prototype.B=function(){this.a.clearRect(0,0,h,k);this.m();this.l()};a.prototype.m=function(){var c=a.w;this.a.fillStyle="white";for(var e=0;e<h;e+=c)for(var b=0;b<k;b+=c)a.A()&&this.a.fillRect(e,
b,c,c)};a.prototype.l=function(){this.a.fillStyle="green";this.a.font="56px slkscr";this.a.fillText(this.channel,20,50)};a.prototype.C=function(){var a=this.c.createBufferSource(),b=this.c.createGain();a.buffer=this.j();b.gain.value=.2;a.connect(b);b.connect(this.c.destination);a.start()};a.prototype.j=function(){for(var c=a.v,b=c*a.o,c=this.c.createBuffer(1,b,c),d=c.getChannelData(0),f=0;f<b;f++)d[f]=Math.random();return c};a.prototype.u=function(){this.h(a.i.PREV)};a.prototype.s=function(){this.h(a.i.NEXT)};
a.prototype.h=function(b){b=this.channel+b;b===a.b.g-1&&(b=a.b.f);b===a.b.f+1&&(b=a.b.g);this.channel=b};a.A=function(){return.3<Math.random()};a.i={PREV:-1,NEXT:1};a.b={g:1,f:99};a.w=2;a.v=44100;a.o=300;b=new a(h,k,g.getContext("2d"),new AudioContext);m.onclick=b.u.bind(b);d.onclick=b.s.bind(b);b.C();l()})();
